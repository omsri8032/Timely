<div class="kanban-column">
  <div class="column-header">
    <h3 class="column-title">{{ title }}</h3>
    <div style="display:flex; align-items:center; gap:8px;">
      <span class="task-count">{{ tasks.length }}</span>
      <button class="col-del-btn" (click)="onDeleteColumn()" title="Delete column">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="3,6 5,6 21,6"></polyline>
          <path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"></path>
        </svg>
      </button>
    </div>
  </div>
  
  <div 
    class="column-content"
    cdkDropList
    [cdkDropListData]="tasks"
    [cdkDropListConnectedTo]="connectedIds"
    [id]="columnId"
    (cdkDropListDropped)="onDrop($event)"
  >
    <div 
      class="task-item"
      *ngFor="let task of tasks; let i = index"
      cdkDrag
      [cdkDragData]="task"
    >
      <app-task-card 
        [task]="task"
        (editTask)="onEditTask($event)"
        (deleteTask)="onDeleteTask($event)"
      ></app-task-card>
    </div>
    
    <div class="empty-state" *ngIf="tasks.length === 0">
      <p>No tasks yet</p>
    </div>
  </div>
</div>
