<div class="app-container">
  <header class="app-header">
    <div class="header-content">
      <h1 class="app-title">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="header-icon">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="9" y1="3" x2="9" y2="21"></line>
        </svg>
        Kanban Task Manager
      </h1>
      <button class="add-task-btn" (click)="onAddTask()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        Add Task
      </button>
    </div>
  </header>

  <main class="app-main">
    <div class="kanban-board" cdkDropListGroup>
      <app-kanban-column
        title="To Do"
        status="todo"
        [tasks]="taskService.todoTasks()"
        (taskMoved)="onTaskMoved($event)"
        (editTask)="onEditTask($event)"
        (deleteTask)="onDeleteTask($event)"
      ></app-kanban-column>

      <app-kanban-column
        title="In Progress"
        status="in-progress"
        [tasks]="taskService.inProgressTasks()"
        (taskMoved)="onTaskMoved($event)"
        (editTask)="onEditTask($event)"
        (deleteTask)="onDeleteTask($event)"
      ></app-kanban-column>

      <app-kanban-column
        title="Done"
        status="done"
        [tasks]="taskService.doneTasks()"
        (taskMoved)="onTaskMoved($event)"
        (editTask)="onEditTask($event)"
        (deleteTask)="onDeleteTask($event)"
      ></app-kanban-column>
    </div>
  </main>

  <!-- Task Form Modal -->
  <app-task-form
    *ngIf="showTaskForm()"
    [task]="editingTask()"
    (saveTask)="onSaveTask($event)"
    (cancel)="onCancelForm()"
  ></app-task-form>
</div>
